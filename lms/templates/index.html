<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>
<%!
from django.utils.translation import ugettext as _
from django.core.urlresolvers import reverse
from microsite_configuration import microsite
%>

<%
  homepage_overlay_html = microsite.get_value('homepage_overlay_html')

  ## To display a welcome video, change False to True, and add a YouTube ID (11 chars, eg "123456789xX") in the following line
  show_homepage_promo_video = microsite.get_value('show_homepage_promo_video', False)
  homepage_promo_video_youtube_id = microsite.get_value('homepage_promo_video_youtube_id', "your-youtube-id")

  show_partners = microsite.get_value('show_partners', True)

%>

<script>
    $(document).ready(function(){
    	$("body").prepend("<div id='mask' style='position: absolute; left: 0; top: 0; z-index: 10000; display: none; opacity: 0.4; background:#363636;'></div>");

        var videoHtml = "";
        videoHtml += "  <video id='indexVideo' width='400' height='300' poster='' controls='controls' style='position: absolute; z-index:10001;top: 90px; display:none; left: calc(50% - 200px);' preload >";
##         videoHtml += "      <source src='http://210.102.100.235/cuinfo/cuinfo2013.mp4' type='video/mp4' />";
        videoHtml += "      <source src='/static/images/samplevideo5.mp4' type='video/mp4' />";

        videoHtml += "  </video>";
        videoHtml += "";

        $("body").prepend(videoHtml);

        $("#mask").click(function(){
            $("#indexVideo").hide();
            $("#indexVideo").currentTime = 0;
            $("#mask").fadeOut(200);
        });

        //position control
        $(window).resize(function(){
            var maskHeight = $(document).height();
            var maskWidth = $(window).width();
            $("#mask").css({"width":maskWidth,"height":maskHeight});
        });
    });

    function playVideo(){
        var video = document.getElementById("indexVideo");
        var maskHeight = $(document).height();
        var maskWidth = $(window).width();

        video.currentTime = 0;
        $("#mask").css({"width":maskWidth+"px","height":maskHeight+"px", "text-align":"center", "vertical-align":"middle"});
        $("#innerMask").css({"width":(maskWidth/2)+"px","height":(maskHeight/2)+"px", "margin":(maskHeight/3)+"px", "display":"inline-block"});
        $("#mask").fadeIn(200);
        $("#indexVideo").fadeIn(300, function(){
            video.play();
        });
    }
</script>

<section class="home">
  <header>
    <div style="border: 1px solid #ffffff; height: 150px; left: 330px; position: absolute; top: 130px; width: 350px;">main logo</div>
    <div style="border: 1px solid #ffffff; height: 35px; left: 330px; position: absolute; top: 300px; width: 350px;">
        <input type="text" name="searchtext"/>
        <input type="button" value="검색"/>
    </div>
    <div style="border: 1px solid #ffffff; height: 175px; left: 1173px; position: absolute; top: 140px; width: 350px; z-index: 9999;">
        <a href="javascript:playVideo();" style="text-decoration: none;">
            <div style="width:100%;height:100%;">
                video here
            </div>
        </a>
    </div>

    <div class="outer-wrapper">

##       <div class="title">
##         <hgroup>
##           % if homepage_overlay_html:
##             ${homepage_overlay_html}
##           % else:
##             % if self.stanford_theme_enabled():
##               <h1>${_("Free courses from <strong>{university_name}</strong>").format(university_name="Stanford")}</h1>
##               <h2>${_("For anyone, anywhere, anytime")}</h2>
##             % else:
##               ## Translators: 'Open edX' is a brand, please keep this untranslated. See http://openedx.org for more information.
##               <h1>${_("Welcome to Open edX!")}</h1>
##               ## Translators: 'Open edX' is a brand, please keep this untranslated. See http://openedx.org for more information.
##               <h2>${_("It works! This is the default homepage for this Open edX instance.")}</h2>
##             % endif
##           % endif
##         </hgroup>
##         % if settings.FEATURES.get('ENABLE_COURSE_DISCOVERY'):
##           <div class="course-search">
##             <form method="get" action="/courses">
##               <input class="search-input" name="search_query" type="text" placeholder="${_("Search for a course")}" />
##               <button class="search-button" type="submit">
##                 <i class="icon fa fa-search" aria-hidden="true"></i>
##               </button>
##             </form>
##           </div>
##         % endif
##
##       </div>

      % if show_homepage_promo_video:
        <a href="#video-modal" class="media" rel="leanModal">
          <div class="hero">
            <div class="play-intro"></div>
          </div>`
        </a>
      % endif
    </div>

  </header>
<style>
    .univDiv{border:1px solid gray;width:108px;height:100px;float:left;margin:5px}
</style>

    <header id="univ_header" style="border: 1px solid #002b36; background: #fff0f0; height: 195px;">
      <section class="courses-container" id="univ_section">
        <div style="border:1px solid #555555; width:100%; height:113px; margin-top:20px; ">
            <div class="univDiv">1</div>
            <div class="univDiv">2</div>
            <div class="univDiv">3</div>
            <div class="univDiv">4</div>
            <div class="univDiv">5</div>
            <div class="univDiv">6</div>
            <div class="univDiv">7</div>
            <div class="univDiv">8</div>
            <div class="univDiv">9</div>
            <div class="univDiv">10</div>
        </div>
      </section>
    </header>

  <section class="courses-container" id="course_section">
    <section class="highlighted-courses">

      % if settings.FEATURES.get('COURSES_ARE_BROWSABLE'):
        <section class="courses">
            <ul class="courses-listing">
            ## limiting the course number by using HOMEPAGE_COURSE_MAX as the maximum number of courses
            %for course in courses[:settings.HOMEPAGE_COURSE_MAX]:
              <li class="courses-listing-item">
                <%include file="course.html" args="course=course" />
              </li>
            %endfor
            </ul>
        </section>
        ## in case there are courses that are not shown on the homepage, a 'View all Courses' link should appear
        % if settings.HOMEPAGE_COURSE_MAX and len(courses) > settings.HOMEPAGE_COURSE_MAX:
          <div class="courses-more">
            <a class="courses-more-cta" href="${marketing_link('COURSES')}" > ${_("View all Courses")} </a>
          </div>
        % endif
      % endif

    </section>
  </section>
</section>

<section id="video-modal" class="modal home-page-video-modal video-modal">
  <div class="inner-wrapper">
    <%
      youtube_video_id = homepage_promo_video_youtube_id
      if self.stanford_theme_enabled():
        youtube_video_id = "2gmreZObCY4"
    %>
    <iframe title="YouTube Video" width="640" height="360" src="//www.youtube.com/embed/${youtube_video_id}?showinfo=0" frameborder="0" allowfullscreen></iframe>
  </div>
</section>

<%block name="js_extra">
   <script type="text/javascript">
      $(window).load(function() {
         if(getParameterByName('next')) {
              $('#login').trigger("click");
         }
      })
   </script>
</%block>

% if show_signup_immediately is not UNDEFINED:
  ## NOTE: This won't work in production, because anonymous views are cached, so it will
  ## show either with or without this extra js for 3 minutes at a time.
<script type="text/javascript">
  $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif
